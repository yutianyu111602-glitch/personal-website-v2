:root{
  --bg-normal: radial-gradient(1200px circle at 20% 20%, #0e0f1a, #000);
  --bg-focus: linear-gradient(135deg, #1a0033, #001a33);
  --anim: 280ms ease;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,'Noto Sans',sans-serif;background:#000;color:#e8e8e8}
#app{min-height:100dvh;transition:background var(--anim),filter var(--anim);background:var(--bg-normal);display:grid;grid-template-rows:auto 1fr;grid-template-columns:1fr 320px;gap:16px;padding:16px}
#app.focus{background:var(--bg-focus)}
.header{grid-column:1 / -1}
.module{transition:transform var(--anim),opacity var(--anim),filter var(--anim)}
#app.focus .module{transform:scale(.82) translateY(6px);opacity:0;pointer-events:none;filter:blur(2px)}
/* Dock: Focus 模式下显示 */
.dock{
  position:fixed;bottom:12px;left:50%;transform:translateX(-50%) translateY(10px);
  display:flex;gap:8px;padding:6px 10px;border-radius:12px;background:rgba(0,0,0,.35);backdrop-filter:blur(6px);
  transition:opacity var(--anim),transform var(--anim);opacity:0;pointer-events:none
}
#app.focus .dock{opacity:1;pointer-events:auto;transform:translateX(-50%) translateY(0)}
.dock-btn{background:#111;border:1px solid #333;color:#e8e8e8;border-radius:10px;padding:8px 10px;cursor:pointer}
.viz{grid-column:1 / 2;position:relative;display:grid;place-items:center;cursor:pointer;border-radius:16px;overflow:hidden;outline:1px solid rgba(255,255,255,.06)}
#vizCanvas{width:100%;height:100%;display:block;background:linear-gradient(180deg,#050510,#0a0a13)}
.hint{position:absolute;bottom:10px;right:14px;font-size:12px;opacity:.7}
.controls{grid-column:2 / 3;display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.playlist{grid-column:2 / 3;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:10px}
ul{margin:0;padding-left:18px}
/* Focus 模式下可选地禁用滚动 */
body.noscroll{overflow:hidden}
